
print(script_name+" start");

print("grid_save: ",si.grid_save);
si.grid_save = smanet.get("GdManStr");
si.start_grid();
var start = new Date();
print("start: ",start);
while(!si.grid_connected) {
	var now = new Date();
	print("now: ",now);
	var diff = now - start;
	print("diff: ",diff);
	if (diff > 10) {
		error("timeout waiting for grid!");
		exit(1);
	}
	sleep(1);
}
for(var i=0; i < 10; i++) {
	print("sleeping...");
	sleep(5);
}

print(script_name+" stop");
